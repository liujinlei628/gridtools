#{extends 'main.html' /} #{set title:'Home' /} *{
<div class="row">
    }* *{
    <div class="col-lg-12">
        }* *{
        <div class="ibox float-e-margins">
            }* *{
            <div class="ibox-content text-center p-md">
                }* *{
                <h2>
                    }* *{
                    <span class="text-navy">公司一体化业务体系</span>
                    }* *{
                </h2>
                }* *{
            </div>
            }* *{
        </div>
        }* *{
    </div>
    }* *{
</div>
}*

<div class="row">
    <div class="col-lg-12">
        <div class="ibox float-e-margins" id="_qunee">
            <div class="ibox-content" style="overflow: hidden;">
                <div id="main" style="height: 600px; width: 1270px; float: left; border: 1px solid red; margin-top: 10px;"></div>
            </div>
        </div>
    </div>
</div>


#{set 'moreScripts'}
<script src="@{'/public/js/echarts-all.js'}"></script>
<script type="text/javascript">
    var myCharts = echarts.init(document.getElementById('main'));
    $.getJSON("@{DataDicts.getBusData2()}", function(data) {
    var option = {
    	    title : {
    	        text: '业务数据关系统计',
    	        x:'center',
    	        y:'top'
    	    },
    	    tooltip : {
    	        trigger: 'item',
    	        formatter: function (params) {
    	            if (params.indicator2) {    // is edge
    	                return params.indicator2 + ' ' + params.name + ' ' + params.indicator;
    	            } else {    // is node
    	                return params.name
    	            }
    	        }
    	    },
    	    /* toolbox: {
    	        show : true,
    	        feature : {
    	            restore : {show: true},
    	            magicType: {show: true, type: ['force', 'chord']},
    	            saveAsImage : {show: true}
    	        }
    	    },
    	    legend: {
    	    	orient : 'vertical',
    	        x : 'left',
    	        data: data.names
    	    }, */
    	    series : [
    	        {
    	            type:'chord',
    	            sort : 'ascending',
    	            sortSub : 'descending',
    	            showScale : false,
    	            itemStyle : {
    	                normal : {
    	                    label : {
    	                        rotate : true
    	                    }
    	                }
    	            },
    	            // 使用 nodes links 表达和弦图
                    nodes: data.nodes,
                    links: data.links
    	        }
    	    ]
    	};
    myCharts.setOption(option);
    });
</script>
<script type="text/javascript">

$(function(){
     showHighLight(2, 2, 5);
});

</script>

#{/set}
